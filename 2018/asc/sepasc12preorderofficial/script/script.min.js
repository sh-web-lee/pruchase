function numberJump(e,t,o,a){e.prop("number",o).animateNumber({number:t},a)}function focus(){$(".progressbar span").append('<em class="reduce"></em>'),$(".reduceGift").append('<b class="reduceGift reduceNum"></b>');var e=new TimelineLite;e.to(".reduce",1,{y:-100,autoAlpha:0,onComplete:function(){$(".reduce").remove()}},"-=0.25").to(".reduceNum",.8,{scale:2,autoAlpha:0,onComplete:function(){$(".reduceNum").remove()}},"+=0.25")}function flipNum(e,t){var o=2.31*e;$(".progressbar span").css("width",o),1==t&&setTimeout(function(){$(".reduceNum").text(e)},500)}function maskShow(){$(".floatlayer").remove(),$(".mask").remove(),$(".mask-box").remove(),$(".main").append('<div class="mask"></div><div class="mask-box"><p>OOPS, $0 pre-order reservations are full today. </p><h2>No worries! If you order now, you can enjoy exclusive 70% OFF.</h2><div class="imgbox"><img src="'+imgUrl+'" alt="Advanced SystemCare 12 PRO"/><p>1 Year Subscription / 3 PCs</p></div><p class="price"><strong><small>$</small>16.77</strong> <del>$49.99</del></p><a class="buybtn" href="'+_url+'" onclick="'+_ga+'" data-text="Buy Now"><span>Buy Now</span></a></div>'),$(".mask").addClass("started");var e=new TimelineLite;e.from(".mask",.5,{autoAlpha:1},"-=0.25").from(".mask-box",.8,{scale:.3,autoAlpha:0},"-=0.75"),$(".mask").hasClass("started")&&$(".mask-box .close").on("click",function(){$(".mask").remove(),$(".mask-box").remove()})}function cSet(e,t){var o=2,a=new Date;a.setTime(a.getTime()+24*o*60*60*1e3),document.cookie=e+"="+escape(t)+";expires="+a.toGMTString()}function timeInit(){var e=new Date,t="ascpre"+e.getDate(),o=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)")),a=Math.floor(e.getTime()/1e3);null==o?(countTime=a+300,cSet(t,countTime)):countTime=parseInt(o[2])}function timeCountDown(e){var t=new Date,o=t.getTime().toString().substring(0,10),a=e-o;if(a>0){var n=Math.floor(a/86400),i=Math.floor(a/3600%24),s=Math.floor(a/60%60),r=Math.floor(a%60),c=999-t.getMilliseconds();return 10>c?c="00"+c:100>c&&(c="0"+c),[n,i,s,r,c]}return[0,0,0,0,0]}function getCycleCountdown(e){var t=timeCountDown(e);d=MApp(2.2).packages.zeroize(t[0],2),h=MApp(2.2).packages.zeroize(t[1],2),i=MApp(2.2).packages.zeroize(t[2],2),s=MApp(2.2).packages.zeroize(t[3],2),mi=MApp(2.2).packages.zeroize(t[4],3)}function packsInit(){var e=new Date,t=("ascprepa"+e.getDate(),Math.floor(e.getTime()/1e3)),o=countTime-t;packs=Math.ceil(o/5.9)>0?Math.ceil(o/5.9):0,flipNum(packs,1),numberJump($(".packsNum"),packs,100,1500),numberJump($(".soldNum"),500-packs,500,1500),$(".progressbar span").css("transition",".5s linear")}function getSales(){var e=new Date,t=Math.floor(e.getTime()/1e3),o=countTime-t,a=Math.ceil(o/5.9)>0?Math.ceil(o/5.9):0;a!=packs&&(packs=2==statusCheck()?0:a,flipNum(packs,1),focus(packs),$(".packsNum").html(packs),$(".soldNum").html(500-packs)),2!=statusCheck()&&setTimeout("getSales()",6e3)}function statusCheck(){var e=new Date,t=e.getTime()/1e3;return countTime>t?1:2}function statusSet(){var e=statusCheck();2==e&&($(".mask").hasClass("started")||(maskShow(),$(".packsNum").html(0)))}function getViewNum(){$.ajax({type:"GET",url:"asc12preorderofficial.php",data:"action=getViewNum",success:function(e){$(".viewNum").html(e)}}),setTimeout("getViewNum()",15e3)}$.fn.scrollWindow=function(e,t,o){$(window).on("scroll",function(){$(window).scrollTop()>e.offset().top?t.addClass(o):t.removeClass(o)})},function(e){e.fn.isOnScreen=function(t,o){(null==t||"undefined"==typeof t)&&(t=1),(null==o||"undefined"==typeof o)&&(o=1);var a=e(window),n={top:a.scrollTop(),left:a.scrollLeft()};n.right=n.left+a.width(),n.bottom=n.top+a.height();var i=this.outerHeight(),s=this.outerWidth();if(!s||!i)return!1;var r=this.offset();r.right=r.left+s,r.bottom=r.top+i;var c=!(n.right<r.left||n.left>r.right||n.bottom<r.top||n.top>r.bottom);if(!c)return!1;var u={top:Math.min(1,(r.bottom-n.top)/i),bottom:Math.min(1,(n.bottom-r.top)/i),left:Math.min(1,(r.right-n.left)/s),right:Math.min(1,(n.right-r.left)/s)};return u.left*u.right>=t&&u.top*u.bottom>=o}}(jQuery),$(function(){$("#dg-container").gallery(),$(window).scrollWindow($(".banner .buybtn"),$(".floatlayer"),"on")});var countdown=function(e,t){statusSet(),1==t&&getCycleCountdown(countTime),$(e).each(function(){$(this).find("b").eq(0).html(i).end().eq(1).html(s).end().eq(2).html(mi)}),setTimeout("countdown('"+e+"',"+t+")",1)};$(function(){timeInit(),packsInit(),countdown(".countdown",1),setTimeout("getSales()",6e3),setTimeout("getViewNum()",15e3)});